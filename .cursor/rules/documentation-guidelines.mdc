---
alwaysApply: true
---

# Documentation Update Rules

**Core Principle**: Documentation must always reflect the current state of the `main` branch. Update docs in the same PR as code changes.

## ğŸ“ Documentation Structure

- **`docs/`** - Root: README, QUICKSTART, setup-instructions, file-structure
- **`docs/design/`** - Architecture: design-doc, schema-design, implementation-plan, search-system-design
- **`docs/testing/`** - Testing: testing-guide, testing-plan, features/

## âš¡ Quick Update Guide

### ğŸ¨ Design Changes â†’ Update `docs/design/`
- **New features** â†’ `design-doc.mdc`
- **Database changes** â†’ `schema-design.mdc` + create migration
- **Architecture changes** â†’ `design-doc.mdc` + `implementation-plan.mdc`
- **Search system changes** â†’ `search-system-design.md`

### ğŸ§ª Testing Changes â†’ Update `docs/testing/`
- **New test tools** â†’ `testing-guide.md`
- **New feature** â†’ Create `features/<feature>-testing.md`
- **Testing strategy changes** â†’ `testing-plan.md`

### âš™ï¸ Setup Changes â†’ Update Root Docs
- **Environment variables** â†’ `setup-instructions.md`
- **File structure changes** â†’ `file-structure.mdc`
- **Major new features** â†’ `README.md`

## ğŸ”„ Database Change Workflow
```bash
# 1. Create migration file
supabase migration new <description>

# 2. Write SQL in migration file
# Add schema changes, RLS policies, etc.

# 3. User runs SQL on Supabase Dashboard
# Copy SQL from migration file â†’ Supabase Dashboard â†’ SQL Editor â†’ Run

# 4. Update schema doc
# Edit docs/design/schema-design.mdc

# 5. Commit migration + docs together
git add supabase/migrations/ docs/design/schema-design.mdc
```

## âœ… Update Checklist

**Before Committing:**
- [ ] Code changes have corresponding doc updates
- [ ] All file paths and examples are current
- [ ] New features have testing guides
- [ ] Breaking changes are documented

**Quality Standards:**
- Keep it concise but complete
- Include working code examples
- Update screenshots for UI changes
- Maintain cross-references between docs

---

**Remember**: Good docs save time for everyone. Update them as you code, not after.